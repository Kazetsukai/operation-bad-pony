(function(){"use strict";var n=angular.module("badpony",["ngRoute","bpLocationController","bpInspectController"]);n.config(["$routeProvider","$locationProvider",function(n){n.when("/",{controller:"LocationController",templateUrl:"/components/views/locationView.html"});n.when("/inspect",{controller:"InspectController",templateUrl:"/components/views/inspectView.html"})}]);window._registerNamespace=function(n){for(var i=n.split("."),r=window,t=0;t<i.length;t++)r[i[t]]=r[i[t]]||{},r=r[i[t]]}})(),function(){"use strict";_registerNamespace("BadPony.Models");BadPony.Models.createLocationViewModel=function(n){var r,i,u,t,f;if(n.SelectedItem=null,n.SelectObject=function(t){n.SelectedItem=n.SelectedItem!==t?t:null},n.LocationObjects=[],n.Jobs.length>0){for(r={Key:"Jobs",Value:n.Jobs},t=0;t<r.Value.length;t++)i=r.Value[t],i.Actions=[{Id:i.Id,Name:"Work",Description:"AP Cost = "+i.APCost+"; Pay = $"+i.Pay,Properties:{Pay:i.Pay,APCost:i.APCost}}];n.LocationObjects.push(r)}if(n.Contents.length>0&&n.LocationObjects.push({Key:"Items",Value:n.Contents}),n.Exits.length>0){for(u={Key:"Exits",Value:n.Exits},t=0;t<u.Value.length;t++)f=u.Value[t],f.Actions=[{Id:f.Id,Name:"Go through door",Properties:{DestinationId:f.DestinationId}}];n.LocationObjects.push(u)}return n.Players.length>0&&n.LocationObjects.push({Key:"Players",Value:n.Players}),n}}(),function(){"use strict";angular.module("bpLocationController",[]).controller("LocationController",["$scope","$http",function(n,t){var i=function(i){t.get("api/Location/"+i).success(function(t){n.location=BadPony.Models.createLocationViewModel(t)})};t.get("api/Player/Default").success(function(r){n.player=r;var u=function(r){t.post("api/Move",{objectId:n.player.Id,destinationId:r}).success(function(){i(r)})},f=function(i){t.post("api/Job",{jobId:i,playerId:n.player.Id}).success(function(n){n===!1&&alert("You are out of action points.\nPlease wait a while before trying to work again.")})};n.doAction=function(n){var t=parseInt(n.Properties.DestinationId),i;if(t&&!isNaN(t)){u(t);return}if(i=parseInt(n.Properties.Pay),i&&!isNaN(i)){f(n.Id);return}};r&&i(n.player.ContainerId)})}])}(),function(){"use strict";angular.module("bpInspectController",[]).controller("InspectController",["$scope","$http",function(n,t){var i=function(i){t.get("api/Object/"+i).success(function(t){n.object=t})};i(6)}])}();
//# sourceMappingURL=app.min.js.map
